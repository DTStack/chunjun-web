"use strict";(self.webpackChunkchunjun_web=self.webpackChunkchunjun_web||[]).push([[5642],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return d}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=a.createContext({}),p=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return a.createElement(u.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,u=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),c=p(n),d=r,k=c["".concat(u,".").concat(d)]||c[d]||m[d]||l;return n?a.createElement(k,i(i({ref:t},s),{},{components:n})):a.createElement(k,i({ref:t},s))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=c;var o={};for(var u in t)hasOwnProperty.call(t,u)&&(o[u]=t[u]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},3482:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return u},default:function(){return d},frontMatter:function(){return o},metadata:function(){return p},toc:function(){return m}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),i=["components"],o={},u="InfluxDB Sink",p={unversionedId:"chunjunDocs/connectors/influxdb/influxdb-sink",id:"chunjunDocs/connectors/influxdb/influxdb-sink",title:"InfluxDB Sink",description:"1\u3001Introduce",source:"@site/docs/chunjunDocs/connectors/influxdb/influxdb-sink.md",sourceDirName:"chunjunDocs/connectors/influxdb",slug:"/chunjunDocs/connectors/influxdb/influxdb-sink",permalink:"/chunjun-web/en/docs/chunjunDocs/connectors/influxdb/influxdb-sink",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/chunjunDocs/connectors/influxdb/influxdb-sink.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Hive Sink",permalink:"/chunjun-web/en/docs/chunjunDocs/connectors/hive/hive-sink"},next:{title:"InfluxDB Source",permalink:"/chunjun-web/en/docs/chunjunDocs/connectors/influxdb/influxdb-source"}},s={},m=[{value:"1\u3001Introduce",id:"1introduce",level:2},{value:"2\u3001Version Support",id:"2version-support",level:2},{value:"3\u3001Connector name",id:"3connector-name",level:2},{value:"4\u3001Parameter description",id:"4parameter-description",level:2},{value:"1\u3001Sync",id:"1sync",level:3},{value:"5\u3001Supported data type",id:"5supported-data-type",level:2},{value:"6\u3001Demo",id:"6demo",level:2}],c={toc:m};function d(e){var t=e.components,n=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,a.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"influxdb-sink"},"InfluxDB Sink"),(0,l.kt)("h2",{id:"1introduce"},"1\u3001Introduce"),(0,l.kt)("p",null,"Influxdb sink\uff0cBreakpoint continuation is not supported and can only be sorted by time, and time is not unique. If you write data points in a batch and all write points do not have timestamp displayed, then they will be written with the same TIMESTAMP."),(0,l.kt)("h2",{id:"2version-support"},"2\u3001Version Support"),(0,l.kt)("p",null,"influxDB 1.x"),(0,l.kt)("h2",{id:"3connector-name"},"3\u3001Connector name"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Sync"),(0,l.kt)("th",{parentName:"tr",align:null},"influxdbsink\u3001influxdbwriter"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"SQL"),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("h2",{id:"4parameter-description"},"4\u3001Parameter description"),(0,l.kt)("h3",{id:"1sync"},"1\u3001Sync"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"connection")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Description:param for Database connection,including jdbcUrl\u3001database\u3001measurement and so on"),(0,l.kt)("li",{parentName:"ul"},"Required:required"),(0,l.kt)("li",{parentName:"ul"},"Type:List"),(0,l.kt)("li",{parentName:"ul"},"Default:none",(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre"},'```text\n "connection": [{\n  "url": ["http://127.0.0.1:8086"],\n  "measurement": ["measurement"],\n  "database":"public"\n }]\n ```\n')),(0,l.kt)("br",null)))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"url")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Description\uff1aUrl of the influxDB connection"),(0,l.kt)("li",{parentName:"ul"},"Required\uff1arequired"),(0,l.kt)("li",{parentName:"ul"},"Type\uff1astring"),(0,l.kt)("li",{parentName:"ul"},"Default\uff1anone",(0,l.kt)("br",null)))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"database")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Description:Database name"),(0,l.kt)("li",{parentName:"ul"},"Required:optional"),(0,l.kt)("li",{parentName:"ul"},"Type:string"),(0,l.kt)("li",{parentName:"ul"},"Default:InfluxDB user name",(0,l.kt)("br",null)))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"measurement")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Description: InfluxDB table name, only support one table in a single work at the moment."),(0,l.kt)("li",{parentName:"ul"},"Required:required"),(0,l.kt)("li",{parentName:"ul"},"Type:List"),(0,l.kt)("li",{parentName:"ul"},"Default:none",(0,l.kt)("br",null)))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"username")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Description: username"),(0,l.kt)("li",{parentName:"ul"},"Required:required"),(0,l.kt)("li",{parentName:"ul"},"Type:String"),(0,l.kt)("li",{parentName:"ul"},"Default:none",(0,l.kt)("br",null)))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"password")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Description: password"),(0,l.kt)("li",{parentName:"ul"},"Required:required"),(0,l.kt)("li",{parentName:"ul"},"Type:String"),(0,l.kt)("li",{parentName:"ul"},"Default:none",(0,l.kt)("br",null)))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"rp")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Description\uff1aHow long data is retained in the influxDB, how many copies of data are retained (open source version can only retain one), and how long data is retained by each shard,Elements of creating a retentionPolicy:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"DURATION\uff1aThis describes how long the retention policy holds data. This mechanism is very useful for temporal data."),(0,l.kt)("li",{parentName:"ul"},"SHARD\uff1aThis is the cell that actually stores the InfluxDB data. Each shard keeps a time slice of data, which is 7 days by default. If you save a year's worth of data, InfluxDB will place 7 consecutive days' worth of data into a single shard, using multiple shards to store data."),(0,l.kt)("li",{parentName:"ul"},"SHARD DURATION\uff1aThis describes how much time slice each shard holds multiple data. The default value is 7 days. Note that when data exceeds the retention policy, the influxDB does not delete data point by point, but deletes the entire Shard group."),(0,l.kt)("li",{parentName:"ul"},"SHARD GROUP\uff1aAs the name implies, a single shard group contains multiple shards. A shard group contains only one shard. However, for enterprise multi-node cluster mode, a shard group can contain different shards on different nodes. This allows InfluxDB to hold more data."),(0,l.kt)("li",{parentName:"ul"},"SHARD REPLICATION\uff1aThis describes how many copies each shard has. For the open source version, only a single copy is supported. For the enterprise version, each shard can be stored redundantly to avoid a single point of failure."))),(0,l.kt)("li",{parentName:"ul"},"Required\uff1aoptional"),(0,l.kt)("li",{parentName:"ul"},"Type\uff1aString"),(0,l.kt)("li",{parentName:"ul"},"Default\uff1aParameter Description Value InfluxDB Default Retention policy",(0,l.kt)("br",null)))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"writeMode")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Description\uff1aDue to the InfluxDB prioritizes the performance of CREATE and read data over Update and DELETE, updates to existing data are rare events and continuous updates never occur. Time series data is mainly new data that is never updated. Therefore we only support insert operations"),(0,l.kt)("li",{parentName:"ul"},"Required\uff1aoptional"),(0,l.kt)("li",{parentName:"ul"},"Type\uff1aString"),(0,l.kt)("li",{parentName:"ul"},"Default\uff1ainsert",(0,l.kt)("br",null)))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"enableBatch")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Description\uff1aWhether to enable batch write"),(0,l.kt)("li",{parentName:"ul"},"Required\uff1aoptional"),(0,l.kt)("li",{parentName:"ul"},"Type\uff1aboolean"),(0,l.kt)("li",{parentName:"ul"},"Default\uff1atrue",(0,l.kt)("br",null)))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"bufferLimit")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Description\uff1aIt is recommended that the size of each buffer ranges from 5000 to 10000 data points"),(0,l.kt)("li",{parentName:"ul"},"Required\uff1aoptional"),(0,l.kt)("li",{parentName:"ul"},"Type\uff1aint"),(0,l.kt)("li",{parentName:"ul"},"Default\uff1a10000",(0,l.kt)("br",null)))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"flushDuration")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Description\uff1aWrite interval, the interval at which batch writes are flushed from buffer to disk (ms)"),(0,l.kt)("li",{parentName:"ul"},"Required\uff1aoptional"),(0,l.kt)("li",{parentName:"ul"},"Type\uff1aint"),(0,l.kt)("li",{parentName:"ul"},"Default\uff1a1000",(0,l.kt)("br",null)))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"flushDuration")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"Description\uff1aUsed with the TIMESTAMP field to set the precision of the supplied Unix time. If you do not specify precision, TSDB For InfluxDB\xae assumes that the timestamp has an accuracy of nanoseconds."),(0,l.kt)("li",{parentName:"ul"},"Required\uff1aoptional"),(0,l.kt)("li",{parentName:"ul"},"Optional value\uff1ans,u,ms,s,m,h"),(0,l.kt)("li",{parentName:"ul"},"Type\uff1astring"),(0,l.kt)("li",{parentName:"ul"},"Default\uff1ans",(0,l.kt)("br",null)))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},(0,l.kt)("strong",{parentName:"p"},"tag")),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Description\uff1aWhich fields are tags (key of measurement tag)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Required\uff1aoptional")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Type\uff1alist")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Default\uff1anone"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre",className:"language-text"},'"tags":["id","no"],\n')),(0,l.kt)("br",null))))),(0,l.kt)("h2",{id:"5supported-data-type"},"5\u3001Supported data type"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"center"},"supported"),(0,l.kt)("th",{parentName:"tr",align:"center"},"data type"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"center"},"yes"),(0,l.kt)("td",{parentName:"tr",align:"center"},"SMALLINT\u3001BINARY_DOUBLE\u3001CHAR\u3001VARCHAR\u3001VARCHAR2\u3001NCHAR\u3001NVARCHAR2\u3001INT\u3001INTEGER\u3001NUMBER\u3001DECIMAL\u3001FLOAT\u3001DATE\u3001RAW\u3001LONG RAW\u3001BINARY_FLOAT\u3001TIMESTAMP\u3001TIMESTAMP WITH LOCAL TIME ZONE\u3001TIMESTAMP WITH TIME ZON\u3001INTERVAL YEAR\u3001INTERVAL DAY")))),(0,l.kt)("h2",{id:"6demo"},"6\u3001Demo"),(0,l.kt)("p",null,"see details in ",(0,l.kt)("inlineCode",{parentName:"p"},"flinkx-examples")," dir of project flinkx."))}d.isMDXComponent=!0}}]);